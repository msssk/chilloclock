function t(t){return(t-2451545)/36525}function e(t){var e,n=function(t){var e=Math.floor(t+.5),n=t+.5-e;if(e<2299161)var o=e;else{var a=Math.floor((e-1867216.25)/36524.25);o=e+1+a-Math.floor(a/4)}var i=o+1524,r=Math.floor((i-122.1)/365.25),s=Math.floor(365.25*r),c=Math.floor((i-s)/30.6001),l=c<14?c-1:c-13;return{year:l>2?r-4716:r-4715,month:l,day:i-s-Math.floor(30.6001*c)+n}}(t),o=(e=n.year)%4==0&&e%100!=0||e%400==0?1:2;return Math.floor(275*n.month/9)-o*Math.floor((n.month+9)/12)+n.day-30}function n(t){return 180*t/Math.PI}function o(t){return Math.PI*t/180}function a(t){for(var e=280.46646+t*(36000.76983+3032e-7*t);e>360;)e-=360;for(;e<0;)e+=360;return e}function i(t){return 357.52911+t*(35999.05029-1537e-7*t)}function r(t){return.016708634-t*(42037e-9+1.267e-7*t)}function s(t){var e=o(i(t));return Math.sin(e)*(1.914602-t*(.004817+14e-6*t))+Math.sin(e+e)*(.019993-101e-6*t)+289e-6*Math.sin(e+e+e)}function c(t){var e=function(t){return i(t)+s(t)}(t),n=r(t);return 1.000001018*(1-n*n)/(1+n*Math.cos(o(e)))}function l(t){var e=function(t){return a(t)+s(t)}(t),n=125.04-1934.136*t;return e-.00569-.00478*Math.sin(o(n))}function u(t){var e=function(t){return 23+(26+(21.448-t*(46.815+t*(59e-5-.001813*t)))/60)/60}(t),n=125.04-1934.136*t;return e+.00256*Math.cos(o(n))}function d(t){var e=u(t),a=l(t),i=Math.sin(o(e))*Math.sin(o(a));return n(Math.asin(i))}function f(t){var e=u(t),s=a(t),c=r(t),l=i(t),d=Math.tan(o(e)/2);d*=d;var f=Math.sin(2*o(s)),h=Math.sin(o(l));return 4*n(d*f-2*c*h+4*c*d*h*Math.cos(2*o(s))-.5*d*d*Math.sin(4*o(s))-1.25*c*c*Math.sin(2*o(l)))}function h(t){for(var e=!1,n=""+t,o=0;o<n.length;o++){var a=n.charAt(o);if(0!=o||"-"!=a&&"+"!=a)if("."!=a||e){if(a<"0"||a>"9")return!1}else e=!0}return!0}function m(t,e,n){e<=2&&(t-=1,e+=12);var o=Math.floor(t/100),a=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n+a-1524.5}function g(t,e,a,i,r){for(var s=f(t),l=d(t),u=s+4*i-60*r,h=(c(t),e+u);h>1440;)h-=1440;var m=h/4-180;m<-180&&(m+=360);var g=o(m),v=Math.sin(o(a))*Math.sin(o(l))+Math.cos(o(a))*Math.cos(o(l))*Math.cos(g);v>1?v=1:v<-1&&(v=-1);var M=n(Math.acos(v)),y=Math.cos(o(a))*Math.sin(o(M));if(Math.abs(y)>.001){var p=(Math.sin(o(a))*Math.cos(o(M))-Math.sin(o(l)))/y;Math.abs(p)>1&&(p=p<0?-1:1);var L=180-n(Math.acos(p));m>0&&(L=-L)}else if(a>0)L=180;else L=0;return L<0&&(L+=360),{azimuth:L,elevation:90-(M-function(t){if(t>85)var e=0;else{var n=Math.tan(o(t));e=t>5?58.1/n-.07/(n*n*n)+86e-6/(n*n*n*n*n):t>-.575?1735+t*(t*(103.4+t*(.711*t-12.79))-518.2):-20.774/n,e/=3600}return e}(90-M))}}function v(e,a,i,r){var s=t(a),c=f(s),l=function(t,e){var n=o(t),a=o(e),i=Math.cos(o(90.833))/(Math.cos(n)*Math.cos(a))-Math.tan(n)*Math.tan(a);return Math.acos(i)}(i,d(s));return e||(l=-l),720-4*(r+n(l))-c}function M(n,o,a,i,r){if("number"!=typeof a)throw new Error("latitude must be a number");if("number"!=typeof i)throw new Error("longitude must be a number");var s=v(n,o,a,i),c=v(n,o+s/1440,a,i);if(h(c)){var l=c+60*r,u=g(t(o+c/1440),l,a,i,r).azimuth,d=o;if(l<0||l>=1440)for(var f=l<0?1:-1;l<0||l>=1440;)l+=1440*f,d-=f}else{u=-1,l=0;var m=e(o);d=y(a>66.4&&m>79&&m<267||a<-66.4&&(m<83||m>263)?!n:n,n,o,a,i,r)}return{jday:d,timelocal:l,azimuth:u}}function y(t,e,n,o,a,i){for(var r=n,s=t?1:-1,c=v(e,r,o,a);!h(c);)c=v(e,r+=s,o,a);for(var l=c+60*i;l<0||l>=1440;){var u=l<0?1:-1;l+=1440*u,r-=u}return r}const p=3e3,L=1440,b=432e5,E=new Proxy(JSON.parse(localStorage.getItem("chilloclock")||"{}"),{get:(t,e)=>t[e],set:(t,e,n)=>(t[e]=n,requestAnimationFrame((function(){localStorage.setItem("chilloclock",JSON.stringify(t))})),!0)}),w=document.getElementById("helpIcon"),k=document.getElementById("welcome"),S=k.querySelector(".closeIcon"),I=document.querySelector(".chilloclock"),z=document.querySelector(".fadeOverlay");E.baseSize&&I.style.setProperty("--base-size",`${E.baseSize}px`);let F,T,B,P,D=!1,x=0;const N=1e4;function $(){clearTimeout(x);const t=new Date,e=60*t.getHours()+t.getMinutes(),n=e<B,o=n?(e+L-T.timelocal)/P:(e-B)/P;if(o>1)return void Y(E.geolocation.latitude,E.geolocation.longitude);(n?F.timelocal-e<10:T.timelocal-e<10)&&n&&(z.classList.contains("morningFade")?z.classList.contains("nightFade")||z.classList.add("nightFade"):z.classList.add("morningFade"));const a=180*o+(D?180:0);I.style.setProperty("--arm-angle",`${a}deg`),x=setTimeout($,N)}w.addEventListener("animationend",(function(t){t.target.classList.contains("fadeout")?(t.target.classList.remove("fadeout"),t.target.hidden=!0):t.target.classList.remove("fadein")}));let q=0;function O(){w.classList.add("fadeout")}function A(){k.hidden=!0}function Y(t,e){E.geolocation={latitude:t,longitude:e};const n=new Date,o=-n.getTimezoneOffset()/60,a=m(n.getFullYear(),n.getMonth()+1,n.getDate());F=M(1,a,t,e,o),T=M(0,a,t,e,o);const i=60*n.getHours()+n.getMinutes();if(i<F.timelocal){D=!0;const a=new Date(n.getTime()-b),i=M(0,m(a.getFullYear(),a.getMonth()+1,a.getDate()),t,e,o);B=i.timelocal,P=F.timelocal+L-B}else if(i<T.timelocal)D=!1,B=F.timelocal,P=T.timelocal-F.timelocal;else{D=!0,B=T.timelocal;const a=new Date(n.getTime()+b),i=m(a.getFullYear(),a.getMonth()+1,a.getDate());F=M(1,i,t,e,o),P=F.timelocal+L-B}D?document.body.classList.add("night"):document.body.classList.remove("night"),A(),q=setTimeout(O,p),$()}document.addEventListener("keydown",(function(t){"Escape"===t.key&&A()})),document.body.addEventListener("pointermove",function(t,e=16){let n,o=!0,a=!1;function i(){a?(t.apply(this,n),n=void 0,a=!1,setTimeout(i,e)):o=!0}return function(...r){o?(o=!1,setTimeout(i,e),t.apply(this,r)):(n=r,a=!0)}}((function(){clearTimeout(q),w.classList.remove("fadeout"),w.hidden&&(w.classList.add("fadein"),w.hidden=!1),q=setTimeout(O,p)}),500)),S.addEventListener("click",A);const C="geolocation"in navigator;function H(){document.getElementById("wikiButton").addEventListener("click",(function(){const t=document.getElementById("city");t.value&&window.open(`https://en.wikipedia.org/w/index.php?title=Special%3ASearch&search=${t.value}`,"_blank")}));const t=document.getElementById("coordinatesForm");t.addEventListener("submit",(function(e){e.preventDefault();const{latitude:n,longitude:o}=t.elements;Y(Number(n.value),Number(o.value))}));document.getElementById("locationForm").hidden=!1}function J(){const t=document.getElementById("locationButton");C?t.addEventListener("click",(function(){navigator.geolocation.getCurrentPosition((function(t){Y(t.coords.latitude,t.coords.longitude)}),H)})):(t.hidden=!0,H()),k.hidden=!1}let{geolocation:j}=E;j?Y(j.latitude,j.longitude):J(),w.addEventListener("click",J),z.addEventListener("animationend",(function(t){"nightFade"===t.animationName?(t.target.classList.remove("nightFade"),t.target.classList.add("night")):(t.target.classList.remove("morningFade"),t.target.classList.remove("night"))})),document.addEventListener("keydown",(function(t){let e=E.baseSize||parseInt(getComputedStyle(I).getPropertyValue("--base-size"),10);"="===t.key||"+"===t.key?(e+=1,I.style.setProperty("--base-size",`${e}px`),E.baseSize=e):"-"===t.key&&(e-=1,I.style.setProperty("--base-size",`${e}px`),E.baseSize=e)}));
//# sourceMappingURL=index.6758e2cf.js.map
