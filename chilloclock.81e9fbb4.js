parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"xiLr":[function(require,module,exports) {
"use strict";function t(t){return(t-2451545)/36525}function r(t){return 36525*t+2451545}function n(t){return t%4==0&&t%100!=0||t%400==0}function a(t){var r=Math.floor(t+.5),n=t+.5-r;if(r<2299161)var a=r;else{var o=Math.floor((r-1867216.25)/36524.25);a=r+1+o-Math.floor(o/4)}var e=a+1524,u=Math.floor((e-122.1)/365.25),i=Math.floor(365.25*u),f=Math.floor((e-i)/30.6001),h=f<14?f-1:f-13;return{year:h>2?u-4716:u-4715,month:h,day:e-i-Math.floor(30.6001*f)+n}}function o(t){var r=a(t),o=n(r.year)?1:2;return Math.floor(275*r.month/9)-o*Math.floor((r.month+9)/12)+r.day-30}function e(t){return 180*t/Math.PI}function u(t){return Math.PI*t/180}function i(t){for(var r=280.46646+t*(36000.76983+3032e-7*t);r>360;)r-=360;for(;r<0;)r+=360;return r}function f(t){return 357.52911+t*(35999.05029-1537e-7*t)}function h(t){return.016708634-t*(42037e-9+1.267e-7*t)}function M(t){var r=u(f(t));return Math.sin(r)*(1.914602-t*(.004817+14e-6*t))+Math.sin(r+r)*(.019993-101e-6*t)+289e-6*Math.sin(r+r+r)}function s(t){return i(t)+M(t)}function c(t){return f(t)+M(t)}function v(t){var r=c(t),n=h(t);return 1.000001018*(1-n*n)/(1+n*Math.cos(u(r)))}function l(t){var r=125.04-1934.136*t;return s(t)-.00569-.00478*Math.sin(u(r))}function m(t){return 23+(26+(21.448-t*(46.815+t*(59e-5-.001813*t)))/60)/60}function b(t){var r=125.04-1934.136*t;return m(t)+.00256*Math.cos(u(r))}function y(t){var r=b(t),n=l(t),a=Math.cos(u(r))*Math.sin(u(n)),o=Math.cos(u(n));return e(Math.atan2(a,o))}function d(t){var r=b(t),n=l(t),a=Math.sin(u(r))*Math.sin(u(n));return e(Math.asin(a))}function p(t){var r=b(t),n=i(t),a=h(t),o=f(t),M=Math.tan(u(r)/2);M*=M;var s=Math.sin(2*u(n)),c=Math.sin(u(o));return 4*e(M*s-2*a*c+4*a*M*c*Math.cos(2*u(n))-.5*M*M*Math.sin(4*u(n))-1.25*a*a*Math.sin(2*u(o)))}function w(t,r){var n=u(t),a=u(r),o=Math.cos(u(90.833))/(Math.cos(n)*Math.cos(a))-Math.tan(n)*Math.tan(a);return Math.acos(o)}function g(t){for(var r=!1,n=""+t,a=0;a<n.length;a++){var o=n.charAt(a);if(0!=a||"-"!=o&&"+"!=o)if("."!=o||r){if(o<"0"||o>"9")return!1}else r=!0}return!0}function x(t,r,n){r<=2&&(t-=1,r+=12);var a=Math.floor(t/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+n+o-1524.5}function z(t){if(t>85)var r=0;else{var n=Math.tan(u(t));if(t>5)r=58.1/n-.07/(n*n*n)+86e-6/(n*n*n*n*n);else if(t>-.575)r=1735+t*(t*(103.4+t*(.711*t-12.79))-518.2);else r=-20.774/n;r/=3600}return r}function P(t,r,n,a,o){for(var i=p(t),f=d(t),h=i+4*a-60*o,M=(v(t),r+h);M>1440;)M-=1440;var s=M/4-180;s<-180&&(s+=360);var c=u(s),l=Math.sin(u(n))*Math.sin(u(f))+Math.cos(u(n))*Math.cos(u(f))*Math.cos(c);l>1?l=1:l<-1&&(l=-1);var m=e(Math.acos(l)),b=Math.cos(u(n))*Math.sin(u(m));if(Math.abs(b)>.001){var y=(Math.sin(u(n))*Math.cos(u(m))-Math.sin(u(f)))/b;Math.abs(y)>1&&(y=y<0?-1:1);var w=180-e(Math.acos(y));s>0&&(w=-w)}else if(n>0)w=180;else w=0;return w<0&&(w+=360),{azimuth:w,elevation:90-(m-z(90-m))}}function j(r,n,a){for(var o=p(t(r-n/360)),e=720-4*n-(o=p(t(r+(720-4*n-o)/1440)))+60*a;e<0;)e+=1440;for(;e>=1440;)e-=1440;return e}function E(r,n,a,o){var u=t(n),i=p(u),f=w(a,d(u));return r||(f=-f),720-4*(o+e(f))-i}function I(r,n,a,e,u){if("number"!=typeof a)throw new Error("latitude must be a number");if("number"!=typeof e)throw new Error("longitude must be a number");var i=E(r,n,a,e),f=E(r,n+i/1440,a,e);if(g(f)){var h=f+60*u,M=P(t(n+f/1440),h,a,e,u).azimuth,s=n;if(h<0||h>=1440)for(var c=h<0?1:-1;h<0||h>=1440;)h+=1440*c,s-=c}else{M=-1,h=0;var v=o(n);s=S(a>66.4&&v>79&&v<267||a<-66.4&&(v<83||v>263)?!r:r,r,n,a,e,u)}return{jday:s,timelocal:h,azimuth:M}}function S(t,r,n,a,o,e){for(var u=n,i=t?1:-1,f=E(r,u,a,o);!g(f);)f=E(r,u+=i,a,o);for(var h=f+60*e;h<0||h>=1440;){var M=h<0?1:-1;h+=1440*M,u-=M}return u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getJD=x,exports.calcSunriseSet=I;
},{}],"DTOS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=e;var t=16;function e(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=!0,n=!1;function s(){n?(e.apply(this,r),r=void 0,n=!1,setTimeout(s,o)):i=!0}return function(){for(var t=arguments.length,u=new Array(t),a=0;a<t;a++)u[a]=arguments[a];i?(i=!1,setTimeout(s,o),e.apply(this,u)):(r=u,n=!0)}}
},{}],"PxhY":[function(require,module,exports) {
"use strict";var e=require("./astro.js"),t=require("./throttle.js"),n=3e3,a=1440,i=432e5,o=new Proxy(JSON.parse(localStorage.getItem("chilloclock")||"{}"),{get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n,requestAnimationFrame(function(){localStorage.setItem("chilloclock",JSON.stringify(e))}),!0}}),c=document.getElementById("helpIcon"),l=document.getElementById("welcome"),s=l.querySelector(".closeIcon"),r=document.querySelector(".chilloclock"),d=document.querySelector(".fadeOverlay");o.baseSize&&r.style.setProperty("--base-size","".concat(o.baseSize,"px"));var u,g,m,v,y=!1,f=0,h=1e4;function L(){clearTimeout(f);var e=new Date,t=60*e.getHours()+e.getMinutes(),n=t<m,i=n?(t+a-g.timelocal)/v:(t-m)/v;if(i>1)w(o.geolocation.latitude,o.geolocation.longitude);else{(n?u.timelocal-t<10:g.timelocal-t<10)&&n&&(d.classList.contains("morningFade")?d.classList.contains("nightFade")||d.classList.add("nightFade"):d.classList.add("morningFade"));var c=180*i+(y?180:0);r.style.setProperty("--arm-angle","".concat(c,"deg")),f=setTimeout(L,h)}}c.addEventListener("animationend",function(e){e.target.classList.contains("fadeout")?(e.target.classList.remove("fadeout"),e.target.hidden=!0):e.target.classList.remove("fadein")});var S=0;function p(){c.classList.add("fadeout")}function E(){clearTimeout(S),c.classList.remove("fadeout"),c.hidden&&(c.classList.add("fadein"),c.hidden=!1),S=setTimeout(p,n)}function b(){l.hidden=!0}function k(e){"Escape"===e.key&&b()}function w(t,c){o.geolocation={latitude:t,longitude:c};var l=new Date,s=-l.getTimezoneOffset()/60,r=(0,e.getJD)(l.getFullYear(),l.getMonth()+1,l.getDate());u=(0,e.calcSunriseSet)(1,r,t,c,s),g=(0,e.calcSunriseSet)(0,r,t,c,s);var d=60*l.getHours()+l.getMinutes();if(d<u.timelocal){y=!0;var f=new Date(l.getTime()-i),h=(0,e.getJD)(f.getFullYear(),f.getMonth()+1,f.getDate()),E=(0,e.calcSunriseSet)(0,h,t,c,s);m=E.timelocal,v=u.timelocal+a-m}else if(d<g.timelocal)y=!1,m=u.timelocal,v=g.timelocal-u.timelocal;else{y=!0,m=g.timelocal;var k=new Date(l.getTime()+i),w=(0,e.getJD)(k.getFullYear(),k.getMonth()+1,k.getDate());u=(0,e.calcSunriseSet)(1,w,t,c,s),v=u.timelocal+a-m}y?document.body.classList.add("night"):document.body.classList.remove("night"),b(),S=setTimeout(p,n),L()}document.addEventListener("keydown",k),document.body.addEventListener("pointermove",(0,t.throttle)(E),500),s.addEventListener("click",b);var F="geolocation"in navigator;function I(){document.getElementById("wikiButton").addEventListener("click",function(){var e=document.getElementById("city");e.value&&window.open("https://en.wikipedia.org/w/index.php?title=Special%3ASearch&search=".concat(e.value),"_blank")});var e=document.getElementById("coordinatesForm");e.addEventListener("submit",function(t){t.preventDefault();var n=e.elements,a=n.latitude,i=n.longitude;w(Number(a.value),Number(i.value))}),document.getElementById("locationForm").hidden=!1}function D(){var e=document.getElementById("locationButton");F?e.addEventListener("click",function(){navigator.geolocation.getCurrentPosition(function(e){w(e.coords.latitude,e.coords.longitude)},I)}):(e.hidden=!0,I()),l.hidden=!1}var z=o.geolocation;z?w(z.latitude,z.longitude):D(),c.addEventListener("click",D),d.addEventListener("animationend",function(e){"nightFade"===e.animationName?(e.target.classList.remove("nightFade"),e.target.classList.add("night")):(e.target.classList.remove("morningFade"),e.target.classList.remove("night"))}),document.addEventListener("keydown",function(e){var t=o.baseSize||parseInt(getComputedStyle(r).getPropertyValue("--base-size"),10);"="===e.key||"+"===e.key?(t+=1,r.style.setProperty("--base-size","".concat(t,"px")),o.baseSize=t):"-"===e.key&&(t-=1,r.style.setProperty("--base-size","".concat(t,"px")),o.baseSize=t)});
},{"./astro.js":"xiLr","./throttle.js":"DTOS"}]},{},["PxhY"], null)
//# sourceMappingURL=chilloclock.81e9fbb4.js.map